import{r as g,m as B,d as C,c as L,j as l,F as U,R as p,a as e,C as s,L as j,B as T,e as A,x as D,y as H,z as M,D as $,E as z,G,H as J,I as W,J as y,M as f,N as b}from"./index-4922176f.js";import{F as a,C as v}from"./index-6ec19458.js";import{I as i}from"./index-cb81a0a9.js";const ee=()=>{const[K,x]=g.useState(!1),[O,w]=g.useState(!1),[N,_]=B.useMessage(),F=C(),k=L();return l(U,{children:[_,l(p,{className:"main_row_for_login",justify:"center",children:[e(s,{lg:5,xs:0}),e(s,{lg:14,xs:24,style:{display:"flex",justifyContent:"center",background:"#FFFFFF",padding:"45px",borderRadius:"20px"},children:l(a,{onFinish:async(r,V)=>{var c,d;try{const t=await A.post("/api/auth/signup",{firstname:r.firstname,lastname:r.lastname,email:r.email,password:r.password,phone:r.phone});k(D((d=(c=t==null?void 0:t.data)==null?void 0:c.data)==null?void 0:d.id));const{firstname:q,lastname:I,email:m,phone:E,password:P,file:R}=r,o=q+I,n=await H(M,m,P),S=new Date().getTime(),u=$(z,`${o+S}`);await G(u,R).then(()=>{J(u).then(async h=>{await W(n.user,{displayName:o,photoURL:h}),await y(f(b,"users",n.user.uid),{uid:n.user.uid,displayName:o,email:m,phone:E,photoURL:h}),await y(f(b,"userChats",n.user.uid),{})})}),F("/profile-register"),x(!0)}catch(t){w(t),N.open({type:"error",content:t.response.data.message})}},scrollToFirstError:!0,children:[e(s,{lg:24,xs:24,children:e("div",{className:"main_login_input",children:l("p",{className:"login_link",style:{background:"none"},children:["Already a member? Â ",e(j,{to:"/login",style:{color:"#EAB2BB"},children:"Login here"})]})})}),e("br",{}),e(s,{lg:24,xs:24,children:e(a.Item,{name:"firstname",rules:[{required:!0,message:"FirstName is required"}],children:e(i,{placeholder:"First name",className:"login_input",style:{color:"black"}})})}),e(s,{lg:24,xs:24,children:e(a.Item,{name:"lastname",rules:[{required:!0,message:"LastName is required"}],children:e(i,{placeholder:"Last name",className:"login_input",style:{color:"black"}})})}),e(s,{lg:24,xs:24,children:e(a.Item,{name:"email",rules:[{required:!0,message:"Email is required"}],children:e(i,{type:"email",placeholder:"Email",className:"login_input",style:{color:"black"}})})}),e(s,{lg:24,xs:24,children:e(a.Item,{name:"phone",rules:[{required:!0,message:"Phone is required"}],children:e(i,{placeholder:"Phone number",className:"login_input",style:{color:"black"}})})}),e(s,{lg:24,xs:24,children:e(a.Item,{name:"password",rules:[{required:!0,message:"Password is required"}],children:e(i.Password,{placeholder:"Password(6 digits at least)",className:"login_input",style:{color:"black"}})})}),e(s,{lg:24,xs:24,className:"login_btn_div",children:e(T,{htmlType:"submit",className:"login_btn",style:{border:"none",color:"white"},children:"Create my account"})}),e(s,{lg:24,xs:24,className:"login_btn_div",style:{marginTop:22},children:e(p,{children:e(a.Item,{children:e(v,{style:{width:"360px"},children:"By using this platform, you accept full responsibility for the safety of yourself and your dog during any exchanges.The platform is not liable for any incidents or damages that may occur. Please use caution and due diligence when interacting with other users."})})})})]})}),e(s,{lg:5,xs:0})]}),e("br",{})]})};export{ee as default};
