import{r as c,u as A,a as e,F as m,j as a,I as P,B as j,S as k,R as r,C as s,m as C,c as D,d as E,L as S,e as N,g as R,f as $}from"./index-d2f1d2f5.js";import{R as x}from"./index-71824a2b.js";var z="Enter your  zipcode | How far are you willing to travel? | Search a time period | Dog preference";const B=({userData:l,setUserData:i})=>{c.useState();const[o,d]=c.useState(""),h=A(n=>{var p;return(p=n==null?void 0:n.info)==null?void 0:p.getSearchData});return e(m,{children:a("div",{style:{display:"flex"},children:[e(P,{placeholder:z,className:"search_field",onChange:n=>{d(n.target.value)},value:o}),a(j,{type:"text",className:"search_field_btn",onClick:()=>{i(o?n=>n==null?void 0:n.filter(u=>u.zipCode==o):h),d("")},children:["Search ",e(k,{})]})]})})},W=({userData:l,setUserData:i})=>a(m,{children:[a(r,{children:[e(s,{lg:6,xs:0}),e(s,{lg:12,xs:24,children:e("h1",{className:"firstBanner_head",children:"Dog-Sitting Made Easy"})}),e(s,{lg:6,xs:1})]}),a(r,{style:{marginTop:16},children:[e(s,{lg:4,xs:1}),e(s,{lg:16,xs:22,children:e("h1",{className:"secBanner_head",children:"Browse and connect with other dog moms who need help. Each day of dog sitting earns 10 points."})}),e(s,{lg:4,xs:1})]}),a(r,{style:{marginTop:16},children:[e(s,{lg:6,xs:1}),e(s,{lg:12,xs:22,children:e(B,{userData:l,setUserData:i})}),e(s,{lg:6,xs:1})]})]});const I=({userData:l})=>{c.useState({rating:"",review:""}),c.useState([]);const[i,o]=c.useState([]),[d,h]=c.useState([]),[b,n]=C.useMessage(),p=D();E(),new Date().getMilliseconds();const u=localStorage.getItem("token");c.useEffect(()=>{(async()=>{const g=await N.get("/api/posts",{headers:{Authorization:`Bearer ${u}`}}),f=g.data.posts.filter(_=>_.start_date);p(R(f));const y=g.data.allUsers.filter(_=>!_.start_date);o(f),h(y)})()},[]);const w=t=>{const g=new Date(t),f=g.toLocaleString("default",{month:"short"}),y=g.getDate(),_=g.getFullYear().toString().substr(-2);return`${f} ${y}thâ€™${_}`};return a(m,{children:[n,e(r,{justify:"space-between",className:"main_row_cards_heading",children:e("h1",{children:"Looking for boarding"})}),e(r,{justify:"space-between",className:"main_row_cards",children:i?i.map(t=>e(m,{children:a(s,{lg:5,xs:24,style:{margin:15},className:"main_col_searchpg",children:[e(S,{to:`/profile/${t==null?void 0:t.id}`,children:e("div",{style:{backgroundImage:`url(${t.user.profile_pic})`,height:"213px",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:8}})}),a(r,{justify:"space-between",style:{height:40},children:[e(s,{children:a("h1",{className:"main_row_card_f_head",children:[t==null?void 0:t.user.firstname," ",t==null?void 0:t.user.lastname]})}),e(s,{children:a(r,{style:{display:"flex",justifyContent:"space-around",columnGap:5},children:[e("img",{src:"assets/home-cards/layer1.svg",alt:"Picture of the author",className:"main_row_cards_icon"}),a("p",{className:"main_row_card_f_points",children:["--",e("span",{style:{color:"#A6A6A6",fontWeight:"lighter",marginLeft:4},children:"20 Points"})]})]})})]}),e(r,{style:{height:30},children:e(s,{children:e("p",{className:"main_row_card_s_head",children:"Richmond, CA"})})}),e("p",{style:{textAlign:"left",height:4},className:"main_row_card_dates_head",children:"Dates need help"}),e("br",{}),a(r,{justify:"space-between",children:[a(s,{style:{display:"flex",flexDirection:"row",columnGap:10},children:[e("span",{className:"start_date",children:w(t.start_date)}),e("span",{className:"end_date",children:w(t.end_date)})]}),a(s,{style:{display:"flex",alignItems:"center"},children:[e(x,{style:{color:"#3E6DA8",fontSize:14},defaultValue:5})," ",e("span",{style:{color:"#3E6DA8",fontSize:14},children:"(10)"})]})]})]})})):"Not Found"}),e(r,{justify:"space-between",className:"main_row_cards_heading",children:e("h1",{children:"All Members"})}),e(r,{justify:"space-between",className:"main_row_cards",children:d?d.map(t=>e(m,{children:a(s,{lg:5,xs:24,style:{margin:15},className:"main_col_searchpg",children:[e(S,{to:`/profile/${t==null?void 0:t.id}`,children:e("div",{style:{backgroundImage:`url(${t.profile_pic})`,height:"213px",backgroundRepeat:"no-repeat",backgroundSize:"cover",borderRadius:8}})}),a(r,{justify:"space-between",style:{height:40},children:[e(s,{children:a("h1",{className:"main_row_card_f_head",children:[t==null?void 0:t.firstname," ",t==null?void 0:t.lastname]})}),e(s,{children:a(r,{style:{display:"flex",justifyContent:"space-around",columnGap:5},children:[e("img",{src:"assets/home-cards/layer1.svg",alt:"Picture of the author",className:"main_row_cards_icon"}),a("p",{className:"main_row_card_f_points",children:["--",e("span",{style:{color:"#A6A6A6",fontWeight:"lighter",marginLeft:4},children:"20 Points"})]})]})})]}),e(r,{style:{height:30},children:e(s,{children:e("p",{className:"main_row_card_s_head",children:"Richmond, CA"})})}),e("p",{style:{textAlign:"left",height:4},className:"main_row_card_dates_head",children:"Dates need help"}),e(r,{justify:"space-between",children:a(s,{style:{display:"flex",alignItems:"center"},children:[e(x,{style:{color:"#3E6DA8",fontSize:14},defaultValue:5})," ",e("span",{style:{color:"#3E6DA8",fontSize:14},children:"(10)"})]})})]})})):"Not Found"})]})},M=()=>{const[l,i]=c.useState([]),o=D();return c.useEffect(()=>{(async()=>{const h=await N.get("/api/users");i(h.data),o($(h.data))})()},[]),e(m,{children:a("div",{style:{marginTop:50,marginBottom:50},children:[e(W,{setUserData:i,userData:l}),e(I,{userData:l})]})})};export{M as default};
