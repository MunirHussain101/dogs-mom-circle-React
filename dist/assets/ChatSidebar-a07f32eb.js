import{i as I,r,p as je,q as Ne,J as Te,v as A,N as se,g as He,_ as xe,a6 as Ae,t as De,a7 as re,Q as Ee,a8 as ke,Y as oe,a9 as Q,a as o,F as X,R as L,C as j,j as C,I as ye,b as _,B as ne,$ as qe,a0 as Ge,a1 as Ue,a2 as _e,a3 as F,aa as ve,ab as we,a4 as B,a5 as E,ac as ae,ad as Re,u as We,ae as ue,af as Fe,d as he,ag as Be,ah as Ke,ai as Xe,aj as Ve,ak as Ye,al as Je,m as Qe,A as Ze,am as et,an as tt}from"./index-2ff07ec3.js";import{T as nt}from"./index-c30eacf4.js";const at=e=>{const{prefixCls:t,className:n,style:a,size:s,shape:i}=e,c=I({[`${t}-lg`]:s==="large",[`${t}-sm`]:s==="small"}),d=I({[`${t}-circle`]:i==="circle",[`${t}-square`]:i==="square",[`${t}-round`]:i==="round"}),l=r.useMemo(()=>typeof s=="number"?{width:s,height:s,lineHeight:`${s}px`}:{},[s]);return r.createElement("span",{className:I(t,c,d,n),style:Object.assign(Object.assign({},l),a)})},ie=at,st=new Te("ant-skeleton-loading",{"0%":{backgroundPosition:"100% 50%"},"100%":{backgroundPosition:"0 50%"}}),le=e=>({height:e,lineHeight:`${e}px`}),K=e=>Object.assign({width:e},le(e)),rt=e=>({background:e.skeletonLoadingBackground,backgroundSize:"400% 100%",animationName:st,animationDuration:e.skeletonLoadingMotionDuration,animationTimingFunction:"ease",animationIterationCount:"infinite"}),pe=e=>Object.assign({width:e*5,minWidth:e*5},le(e)),ot=e=>{const{skeletonAvatarCls:t,color:n,controlHeight:a,controlHeightLG:s,controlHeightSM:i}=e;return{[`${t}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:n},K(a)),[`${t}${t}-circle`]:{borderRadius:"50%"},[`${t}${t}-lg`]:Object.assign({},K(s)),[`${t}${t}-sm`]:Object.assign({},K(i))}},it=e=>{const{controlHeight:t,borderRadiusSM:n,skeletonInputCls:a,controlHeightLG:s,controlHeightSM:i,color:c}=e;return{[`${a}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:n},pe(t)),[`${a}-lg`]:Object.assign({},pe(s)),[`${a}-sm`]:Object.assign({},pe(i))}},Ie=e=>Object.assign({width:e},le(e)),lt=e=>{const{skeletonImageCls:t,imageSizeBase:n,color:a,borderRadiusSM:s}=e;return{[`${t}`]:Object.assign(Object.assign({display:"flex",alignItems:"center",justifyContent:"center",verticalAlign:"top",background:a,borderRadius:s},Ie(n*2)),{[`${t}-path`]:{fill:"#bfbfbf"},[`${t}-svg`]:Object.assign(Object.assign({},Ie(n)),{maxWidth:n*4,maxHeight:n*4}),[`${t}-svg${t}-svg-circle`]:{borderRadius:"50%"}}),[`${t}${t}-circle`]:{borderRadius:"50%"}}},me=(e,t,n)=>{const{skeletonButtonCls:a}=e;return{[`${n}${a}-circle`]:{width:t,minWidth:t,borderRadius:"50%"},[`${n}${a}-round`]:{borderRadius:t}}},be=e=>Object.assign({width:e*2,minWidth:e*2},le(e)),ct=e=>{const{borderRadiusSM:t,skeletonButtonCls:n,controlHeight:a,controlHeightLG:s,controlHeightSM:i,color:c}=e;return Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:c,borderRadius:t,width:a*2,minWidth:a*2},be(a))},me(e,a,n)),{[`${n}-lg`]:Object.assign({},be(s))}),me(e,s,`${n}-lg`)),{[`${n}-sm`]:Object.assign({},be(i))}),me(e,i,`${n}-sm`))},dt=e=>{const{componentCls:t,skeletonAvatarCls:n,skeletonTitleCls:a,skeletonParagraphCls:s,skeletonButtonCls:i,skeletonInputCls:c,skeletonImageCls:d,controlHeight:l,controlHeightLG:p,controlHeightSM:g,color:m,padding:b,marginSM:O,borderRadius:S,skeletonTitleHeight:M,skeletonBlockRadius:h,skeletonParagraphLineHeight:$,controlHeightXS:f,skeletonParagraphMarginTop:y}=e;return{[`${t}`]:{display:"table",width:"100%",[`${t}-header`]:{display:"table-cell",paddingInlineEnd:b,verticalAlign:"top",[`${n}`]:Object.assign({display:"inline-block",verticalAlign:"top",background:m},K(l)),[`${n}-circle`]:{borderRadius:"50%"},[`${n}-lg`]:Object.assign({},K(p)),[`${n}-sm`]:Object.assign({},K(g))},[`${t}-content`]:{display:"table-cell",width:"100%",verticalAlign:"top",[`${a}`]:{width:"100%",height:M,background:m,borderRadius:h,[`+ ${s}`]:{marginBlockStart:g}},[`${s}`]:{padding:0,"> li":{width:"100%",height:$,listStyle:"none",background:m,borderRadius:h,"+ li":{marginBlockStart:f}}},[`${s}> li:last-child:not(:first-child):not(:nth-child(2))`]:{width:"61%"}},[`&-round ${t}-content`]:{[`${a}, ${s} > li`]:{borderRadius:S}}},[`${t}-with-avatar ${t}-content`]:{[`${a}`]:{marginBlockStart:O,[`+ ${s}`]:{marginBlockStart:y}}},[`${t}${t}-element`]:Object.assign(Object.assign(Object.assign(Object.assign({display:"inline-block",width:"auto"},ct(e)),ot(e)),it(e)),lt(e)),[`${t}${t}-block`]:{width:"100%",[`${i}`]:{width:"100%"},[`${c}`]:{width:"100%"}},[`${t}${t}-active`]:{[`
        ${a},
        ${s} > li,
        ${n},
        ${i},
        ${c},
        ${d}
      `]:Object.assign({},rt(e))}}},V=je("Skeleton",e=>{const{componentCls:t}=e,n=Ne(e,{skeletonAvatarCls:`${t}-avatar`,skeletonTitleCls:`${t}-title`,skeletonParagraphCls:`${t}-paragraph`,skeletonButtonCls:`${t}-button`,skeletonInputCls:`${t}-input`,skeletonImageCls:`${t}-image`,imageSizeBase:e.controlHeight*1.5,skeletonTitleHeight:e.controlHeight/2,skeletonBlockRadius:e.borderRadiusSM,skeletonParagraphLineHeight:e.controlHeight/2,skeletonParagraphMarginTop:e.marginLG+e.marginXXS,borderRadius:100,skeletonLoadingBackground:`linear-gradient(90deg, ${e.color} 25%, ${e.colorGradientEnd} 37%, ${e.color} 63%)`,skeletonLoadingMotionDuration:"1.4s"});return[dt(n)]},e=>{const{colorFillContent:t,colorFill:n}=e;return{color:t,colorGradientEnd:n}}),gt=e=>{const{prefixCls:t,className:n,rootClassName:a,active:s,shape:i="circle",size:c="default"}=e,{getPrefixCls:d}=r.useContext(A),l=d("skeleton",t),[p,g]=V(l),m=se(e,["prefixCls","className"]),b=I(l,`${l}-element`,{[`${l}-active`]:s},n,a,g);return p(r.createElement("div",{className:b},r.createElement(ie,Object.assign({prefixCls:`${l}-avatar`,shape:i,size:c},m))))},ut=gt,ht=e=>{const{prefixCls:t,className:n,rootClassName:a,active:s,block:i=!1,size:c="default"}=e,{getPrefixCls:d}=r.useContext(A),l=d("skeleton",t),[p,g]=V(l),m=se(e,["prefixCls"]),b=I(l,`${l}-element`,{[`${l}-active`]:s,[`${l}-block`]:i},n,a,g);return p(r.createElement("div",{className:b},r.createElement(ie,Object.assign({prefixCls:`${l}-button`,size:c},m))))},pt=ht;var mt={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM288 604a64 64 0 10128 0 64 64 0 10-128 0zm118-224a48 48 0 1096 0 48 48 0 10-96 0zm158 228a96 96 0 10192 0 96 96 0 10-192 0zm148-314a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"dot-chart",theme:"outlined"};const bt=mt;var ze=function(t,n){return r.createElement(He,xe(xe({},t),{},{ref:n,icon:bt}))};ze.displayName="DotChartOutlined";const $t=r.forwardRef(ze),ft=e=>{const{prefixCls:t,className:n,rootClassName:a,style:s,active:i,children:c}=e,{getPrefixCls:d}=r.useContext(A),l=d("skeleton",t),[p,g]=V(l),m=I(l,`${l}-element`,{[`${l}-active`]:i},g,n,a),b=c??r.createElement($t,null);return p(r.createElement("div",{className:m},r.createElement("div",{className:I(`${l}-image`,n),style:s},b)))},yt=ft,Ct="M365.714286 329.142857q0 45.714286-32.036571 77.677714t-77.677714 32.036571-77.677714-32.036571-32.036571-77.677714 32.036571-77.677714 77.677714-32.036571 77.677714 32.036571 32.036571 77.677714zM950.857143 548.571429l0 256-804.571429 0 0-109.714286 182.857143-182.857143 91.428571 91.428571 292.571429-292.571429zM1005.714286 146.285714l-914.285714 0q-7.460571 0-12.873143 5.412571t-5.412571 12.873143l0 694.857143q0 7.460571 5.412571 12.873143t12.873143 5.412571l914.285714 0q7.460571 0 12.873143-5.412571t5.412571-12.873143l0-694.857143q0-7.460571-5.412571-12.873143t-12.873143-5.412571zM1097.142857 164.571429l0 694.857143q0 37.741714-26.843429 64.585143t-64.585143 26.843429l-914.285714 0q-37.741714 0-64.585143-26.843429t-26.843429-64.585143l0-694.857143q0-37.741714 26.843429-64.585143t64.585143-26.843429l914.285714 0q37.741714 0 64.585143 26.843429t26.843429 64.585143z",St=e=>{const{prefixCls:t,className:n,rootClassName:a,style:s,active:i}=e,{getPrefixCls:c}=r.useContext(A),d=c("skeleton",t),[l,p]=V(d),g=I(d,`${d}-element`,{[`${d}-active`]:i},n,a,p);return l(r.createElement("div",{className:g},r.createElement("div",{className:I(`${d}-image`,n),style:s},r.createElement("svg",{viewBox:"0 0 1098 1024",xmlns:"http://www.w3.org/2000/svg",className:`${d}-image-svg`},r.createElement("path",{d:Ct,className:`${d}-image-path`})))))},xt=St,vt=e=>{const{prefixCls:t,className:n,rootClassName:a,active:s,block:i,size:c="default"}=e,{getPrefixCls:d}=r.useContext(A),l=d("skeleton",t),[p,g]=V(l),m=se(e,["prefixCls"]),b=I(l,`${l}-element`,{[`${l}-active`]:s,[`${l}-block`]:i},n,a,g);return p(r.createElement("div",{className:b},r.createElement(ie,Object.assign({prefixCls:`${l}-input`,size:c},m))))},wt=vt,It=e=>{const t=d=>{const{width:l,rows:p=2}=e;if(Array.isArray(l))return l[d];if(p-1===d)return l},{prefixCls:n,className:a,style:s,rows:i}=e,c=Ae(Array(i)).map((d,l)=>r.createElement("li",{key:l,style:{width:t(l)}}));return r.createElement("ul",{className:I(n,a),style:s},c)},Ot=It,jt=e=>{let{prefixCls:t,className:n,width:a,style:s}=e;return r.createElement("h3",{className:I(t,n),style:Object.assign({width:a},s)})},Nt=jt;function $e(e){return e&&typeof e=="object"?e:{}}function Et(e,t){return e&&!t?{size:"large",shape:"square"}:{size:"large",shape:"circle"}}function Rt(e,t){return!e&&t?{width:"38%"}:e&&t?{width:"50%"}:{}}function Bt(e,t){const n={};return(!e||!t)&&(n.width="61%"),!e&&t?n.rows=3:n.rows=2,n}const Y=e=>{const{prefixCls:t,loading:n,className:a,rootClassName:s,style:i,children:c,avatar:d=!1,title:l=!0,paragraph:p=!0,active:g,round:m}=e,{getPrefixCls:b,direction:O}=r.useContext(A),S=b("skeleton",t),[M,h]=V(S);if(n||!("loading"in e)){const $=!!d,f=!!l,y=!!p;let v;if($){const R=Object.assign(Object.assign({prefixCls:`${S}-avatar`},Et(f,y)),$e(d));v=r.createElement("div",{className:`${S}-header`},r.createElement(ie,Object.assign({},R)))}let N;if(f||y){let R;if(f){const k=Object.assign(Object.assign({prefixCls:`${S}-title`},Rt($,y)),$e(l));R=r.createElement(Nt,Object.assign({},k))}let W;if(y){const k=Object.assign(Object.assign({prefixCls:`${S}-paragraph`},Bt($,f)),$e(p));W=r.createElement(Ot,Object.assign({},k))}N=r.createElement("div",{className:`${S}-content`},R,W)}const T=I(S,{[`${S}-with-avatar`]:$,[`${S}-active`]:g,[`${S}-rtl`]:O==="rtl",[`${S}-round`]:m},a,s,h);return M(r.createElement("div",{className:T,style:i},v,N))}return typeof c<"u"?c:null};Y.Button=pt;Y.Avatar=ut;Y.Input=wt;Y.Image=xt;Y.Node=yt;const zt=Y;var Pt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};const Lt=e=>{var{prefixCls:t,className:n,hoverable:a=!0}=e,s=Pt(e,["prefixCls","className","hoverable"]);const{getPrefixCls:i}=r.useContext(A),c=i("card",t),d=I(`${c}-grid`,n,{[`${c}-grid-hoverable`]:a});return r.createElement("div",Object.assign({},s,{className:d}))},Pe=Lt,Mt=e=>{const{antCls:t,componentCls:n,cardHeadHeight:a,cardPaddingBase:s,cardHeadTabsMarginBottom:i}=e;return Object.assign(Object.assign({display:"flex",justifyContent:"center",flexDirection:"column",minHeight:a,marginBottom:-1,padding:`0 ${s}px`,color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG,background:"transparent",borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`,borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`},re()),{"&-wrapper":{width:"100%",display:"flex",alignItems:"center"},"&-title":Object.assign(Object.assign({display:"inline-block",flex:1},Ee),{[`
          > ${n}-typography,
          > ${n}-typography-edit-content
        `]:{insetInlineStart:0,marginTop:0,marginBottom:0}}),[`${t}-tabs-top`]:{clear:"both",marginBottom:i,color:e.colorText,fontWeight:"normal",fontSize:e.fontSize,"&-bar":{borderBottom:`${e.lineWidth}px ${e.lineType} ${e.colorBorderSecondary}`}}})},Tt=e=>{const{cardPaddingBase:t,colorBorderSecondary:n,cardShadow:a,lineWidth:s}=e;return{width:"33.33%",padding:t,border:0,borderRadius:0,boxShadow:`
      ${s}px 0 0 0 ${n},
      0 ${s}px 0 0 ${n},
      ${s}px ${s}px 0 0 ${n},
      ${s}px 0 0 0 ${n} inset,
      0 ${s}px 0 0 ${n} inset;
    `,transition:`all ${e.motionDurationMid}`,"&-hoverable:hover":{position:"relative",zIndex:1,boxShadow:a}}},Ht=e=>{const{componentCls:t,iconCls:n,cardActionsLiMargin:a,cardActionsIconSize:s,colorBorderSecondary:i}=e;return Object.assign(Object.assign({margin:0,padding:0,listStyle:"none",background:e.colorBgContainer,borderTop:`${e.lineWidth}px ${e.lineType} ${i}`,display:"flex",borderRadius:`0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px `},re()),{"& > li":{margin:a,color:e.colorTextDescription,textAlign:"center","> span":{position:"relative",display:"block",minWidth:e.cardActionsIconSize*2,fontSize:e.fontSize,lineHeight:e.lineHeight,cursor:"pointer","&:hover":{color:e.colorPrimary,transition:`color ${e.motionDurationMid}`},[`a:not(${t}-btn), > ${n}`]:{display:"inline-block",width:"100%",color:e.colorTextDescription,lineHeight:`${e.fontSize*e.lineHeight}px`,transition:`color ${e.motionDurationMid}`,"&:hover":{color:e.colorPrimary}},[`> ${n}`]:{fontSize:s,lineHeight:`${s*e.lineHeight}px`}},"&:not(:last-child)":{borderInlineEnd:`${e.lineWidth}px ${e.lineType} ${i}`}}})},At=e=>Object.assign(Object.assign({margin:`-${e.marginXXS}px 0`,display:"flex"},re()),{"&-avatar":{paddingInlineEnd:e.padding},"&-detail":{overflow:"hidden",flex:1,"> div:not(:last-child)":{marginBottom:e.marginXS}},"&-title":Object.assign({color:e.colorTextHeading,fontWeight:e.fontWeightStrong,fontSize:e.fontSizeLG},Ee),"&-description":{color:e.colorTextDescription}}),Dt=e=>{const{componentCls:t,cardPaddingBase:n,colorFillAlter:a}=e;return{[`${t}-head`]:{padding:`0 ${n}px`,background:a,"&-title":{fontSize:e.fontSize}},[`${t}-body`]:{padding:`${e.padding}px ${n}px`}}},kt=e=>{const{componentCls:t}=e;return{overflow:"hidden",[`${t}-body`]:{userSelect:"none"}}},qt=e=>{const{componentCls:t,cardShadow:n,cardHeadPadding:a,colorBorderSecondary:s,boxShadowTertiary:i,cardPaddingBase:c}=e;return{[t]:Object.assign(Object.assign({},De(e)),{position:"relative",background:e.colorBgContainer,borderRadius:e.borderRadiusLG,[`&:not(${t}-bordered)`]:{boxShadow:i},[`${t}-head`]:Mt(e),[`${t}-extra`]:{marginInlineStart:"auto",color:"",fontWeight:"normal",fontSize:e.fontSize},[`${t}-body`]:Object.assign({padding:c,borderRadius:` 0 0 ${e.borderRadiusLG}px ${e.borderRadiusLG}px`},re()),[`${t}-grid`]:Tt(e),[`${t}-cover`]:{"> *":{display:"block",width:"100%"},img:{borderRadius:`${e.borderRadiusLG}px ${e.borderRadiusLG}px 0 0`}},[`${t}-actions`]:Ht(e),[`${t}-meta`]:At(e)}),[`${t}-bordered`]:{border:`${e.lineWidth}px ${e.lineType} ${s}`,[`${t}-cover`]:{marginTop:-1,marginInlineStart:-1,marginInlineEnd:-1}},[`${t}-hoverable`]:{cursor:"pointer",transition:`box-shadow ${e.motionDurationMid}, border-color ${e.motionDurationMid}`,"&:hover":{borderColor:"transparent",boxShadow:n}},[`${t}-contain-grid`]:{[`${t}-body`]:{display:"flex",flexWrap:"wrap"},[`&:not(${t}-loading) ${t}-body`]:{marginBlockStart:-e.lineWidth,marginInlineStart:-e.lineWidth,padding:0}},[`${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{paddingTop:a}}},[`${t}-type-inner`]:Dt(e),[`${t}-loading`]:kt(e),[`${t}-rtl`]:{direction:"rtl"}}},Gt=e=>{const{componentCls:t,cardPaddingSM:n,cardHeadHeightSM:a}=e;return{[`${t}-small`]:{[`> ${t}-head`]:{minHeight:a,padding:`0 ${n}px`,fontSize:e.fontSize,[`> ${t}-head-wrapper`]:{[`> ${t}-extra`]:{fontSize:e.fontSize}}},[`> ${t}-body`]:{padding:n}},[`${t}-small${t}-contain-tabs`]:{[`> ${t}-head`]:{[`${t}-head-title, ${t}-extra`]:{minHeight:a,paddingTop:0,display:"flex",alignItems:"center"}}}}},Ut=je("Card",e=>{const t=Ne(e,{cardShadow:e.boxShadowCard,cardHeadHeight:e.fontSizeLG*e.lineHeightLG+e.padding*2,cardHeadHeightSM:e.fontSize*e.lineHeight+e.paddingXS*2,cardHeadPadding:e.padding,cardPaddingBase:e.paddingLG,cardHeadTabsMarginBottom:-e.padding-e.lineWidth,cardActionsLiMargin:`${e.paddingSM}px 0`,cardActionsIconSize:e.fontSize,cardPaddingSM:12});return[qt(t),Gt(t)]});var _t=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};function Wt(e){return e.map((n,a)=>r.createElement("li",{style:{width:`${100/e.length}%`},key:`action-${a}`},r.createElement("span",null,n)))}const Ft=r.forwardRef((e,t)=>{const{getPrefixCls:n,direction:a}=r.useContext(A),s=r.useContext(ke),i=D=>{var P;(P=e.onTabChange)===null||P===void 0||P.call(e,D)},c=()=>{let D;return r.Children.forEach(e.children,P=>{P&&P.type&&P.type===Pe&&(D=!0)}),D},{prefixCls:d,className:l,rootClassName:p,extra:g,headStyle:m={},bodyStyle:b={},title:O,loading:S,bordered:M=!0,size:h,type:$,cover:f,actions:y,tabList:v,children:N,activeTabKey:T,defaultActiveTabKey:R,tabBarExtraContent:W,hoverable:k,tabProps:ce={}}=e,de=_t(e,["prefixCls","className","rootClassName","extra","headStyle","bodyStyle","title","loading","bordered","size","type","cover","actions","tabList","children","activeTabKey","defaultActiveTabKey","tabBarExtraContent","hoverable","tabProps"]),x=n("card",d),[Z,ge]=Ut(x),ee=r.createElement(zt,{loading:!0,active:!0,paragraph:{rows:4},title:!1},N),J=T!==void 0,z=Object.assign(Object.assign({},ce),{[J?"activeKey":"defaultActiveKey"]:J?T:R,tabBarExtraContent:W});let u;const q=v&&v.length?r.createElement(nt,Object.assign({size:"large"},z,{className:`${x}-head-tabs`,onChange:i,items:v.map(D=>{var P;return{label:D.tab,key:D.key,disabled:(P=D.disabled)!==null&&P!==void 0?P:!1}})})):null;(O||g||q)&&(u=r.createElement("div",{className:`${x}-head`,style:m},r.createElement("div",{className:`${x}-head-wrapper`},O&&r.createElement("div",{className:`${x}-head-title`},O),g&&r.createElement("div",{className:`${x}-extra`},g)),q));const G=f?r.createElement("div",{className:`${x}-cover`},f):null,U=r.createElement("div",{className:`${x}-body`,style:b},S?ee:N),H=y&&y.length?r.createElement("ul",{className:`${x}-actions`},Wt(y)):null,Le=se(de,["onTabChange"]),Se=h||s,Me=I(x,{[`${x}-loading`]:S,[`${x}-bordered`]:M,[`${x}-hoverable`]:k,[`${x}-contain-grid`]:c(),[`${x}-contain-tabs`]:v&&v.length,[`${x}-${Se}`]:Se,[`${x}-type-${$}`]:!!$,[`${x}-rtl`]:a==="rtl"},l,p,ge);return Z(r.createElement("div",Object.assign({ref:t},Le,{className:Me}),u,G,U,H))}),Kt=Ft;var Xt=globalThis&&globalThis.__rest||function(e,t){var n={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&t.indexOf(a)<0&&(n[a]=e[a]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)t.indexOf(a[s])<0&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(n[a[s]]=e[a[s]]);return n};const Vt=e=>{const{prefixCls:t,className:n,avatar:a,title:s,description:i}=e,c=Xt(e,["prefixCls","className","avatar","title","description"]),{getPrefixCls:d}=r.useContext(A),l=d("card",t),p=I(`${l}-meta`,n),g=a?r.createElement("div",{className:`${l}-meta-avatar`},a):null,m=s?r.createElement("div",{className:`${l}-meta-title`},s):null,b=i?r.createElement("div",{className:`${l}-meta-description`},i):null,O=m||b?r.createElement("div",{className:`${l}-meta-detail`},m,b):null;return r.createElement("div",Object.assign({},c,{className:p}),g,O)},Yt=Vt,Ce=Kt;Ce.Grid=Pe;Ce.Meta=Yt;const Jt=Ce;let te;const Qt=new Uint8Array(16);function Zt(){if(!te&&(te=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!te))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return te(Qt)}const w=[];for(let e=0;e<256;++e)w.push((e+256).toString(16).slice(1));function en(e,t=0){return(w[e[t+0]]+w[e[t+1]]+w[e[t+2]]+w[e[t+3]]+"-"+w[e[t+4]]+w[e[t+5]]+"-"+w[e[t+6]]+w[e[t+7]]+"-"+w[e[t+8]]+w[e[t+9]]+"-"+w[e[t+10]]+w[e[t+11]]+w[e[t+12]]+w[e[t+13]]+w[e[t+14]]+w[e[t+15]]).toLowerCase()}const tn=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Oe={randomUUID:tn};function fe(e,t,n){if(Oe.randomUUID&&!t&&!e)return Oe.randomUUID();e=e||{};const a=e.random||(e.rng||Zt)();if(a[6]=a[6]&15|64,a[8]=a[8]&63|128,t){n=n||0;for(let s=0;s<16;++s)t[n+s]=a[s];return t}return en(a)}const nn=()=>{const[e,t]=r.useState(""),[n,a]=r.useState(null),{currentUser:s}=r.useContext(oe),{data:i}=r.useContext(Q),c=async()=>{if(n){const d=qe(Ge,fe()),l=Ue(d,n);l.on(p=>{},()=>{_e(l.snapshot.ref).then(async p=>{await F(B(E,"chats",i.chatId),{messages:ve({id:fe(),text:e,senderId:s.uid,date:we.now(),img:p})})})})}else await F(B(E,"chats",i.chatId),{messages:ve({id:fe(),text:e,senderId:s.uid,date:we.now()})});await F(B(E,"userChats",s.uid),{[i.chatId+".lastMessage"]:{text:e},[i.chatId+".date"]:ae()}),await F(B(E,"userChats",i.user.uid),{[i.chatId+".lastMessage"]:{text:e},[i.chatId+".date"]:ae()}),t(""),a(null)};return o(X,{children:o(L,{children:o(j,{lg:24,children:C("div",{className:"input",children:[o(ye,{placeholder:"Enter Type here",style:{width:500,marginLeft:10,backgroundColor:"#F8F8F8",borderRadius:12},onChange:d=>t(d.target.value),value:e}),C("div",{className:"send",children:[o(ye,{type:"file",style:{display:"none"},id:"file",onChange:d=>a(d.target.files[0])}),o("label",{htmlFor:"file",children:o(_.LazyLoadImage,{src:"assets/chat-img/img.png",alt:""})}),o(ne,{onClick:c,style:{background:"#EAB2BB",color:"white"},children:"Send"})]})]})})})})};const an=({message:e})=>{const{currentUser:t}=r.useContext(oe),{data:n}=r.useContext(Q);r.useState(!1);const a=r.useRef();r.useEffect(()=>{var i;(i=a.current)==null||i.scrollIntoView({behavior:"smooth"})},[e]);function s(i){const c=new Date(i.seconds*1e3),d=c.getHours(),l=c.getMinutes(),p=d>=12?"PM":"AM";return(d%12||12)+":"+(l<10?"0"+l:l)+" "+p}return o(L,{children:o(j,{lg:24,children:C("div",{ref:a,className:`message ${e.senderId===t.uid?"owner":"owner_2"}`,children:[o("div",{className:"messageInfo",children:o(_.LazyLoadImage,{src:e.senderId===t.uid?t.photoURL:n.user.photoURL,alt:""})}),C("div",{className:e.img?"messageContent_2":"messageContent",children:[o("p",{children:e.text}),o("span",{children:s(e==null?void 0:e.date)}),e.img&&o(_.LazyLoadImage,{src:e.img,alt:""})]})]})})})};const sn=()=>{const[e,t]=r.useState([]),{data:n}=r.useContext(Q);return r.useEffect(()=>{const a=Re(B(E,"chats",n.chatId),s=>{s.exists()&&t(s.data().messages)});return()=>{a()}},[n.chatId]),o(L,{children:o(j,{lg:24,children:o("div",{className:"messages",children:e.map(a=>o(an,{message:a},a.id))})})})},{Content:rn}=Fe,on=()=>o(X,{children:C(j,{lg:12,xs:24,style:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"},children:[o(_.LazyLoadImage,{width:100,src:"/assets/dropdownIcon/message.svg"}),o("p",{children:"Messages sent and received will be shown here"})]})}),ln=({targetUser:e})=>{var ee,J;const{data:t}=r.useContext(Q),n=We(z=>{var u;return(u=z.auth.userDetails)==null?void 0:u.id}),a=localStorage.getItem("token"),[s,i]=r.useState(!1),[c,d]=r.useState(""),[l,p]=r.useState(""),[g,m]=r.useState(null),[b,O]=r.useState([]),[S,M]=r.useState(!1),[h,$]=r.useState(!1),[f,y]=r.useState(""),[v,N]=r.useState(null),[T,R]=r.useState(""),[W,k]=r.useState("board their"),ce=async z=>{console.log("be",e);const u=await he.post("/api/get_boarding",{myId:n,targetId:z},{headers:{Authorization:`Bearer ${a}`}});if(console.log("now"),u.data===!0){R("Request to board"),k("host your");return}R("Request to host"),console.log({response:u.data})},de=async()=>{const u=(await Be(B(E,"users",e))).data();return u&&N(u.dbId),u.dbId};r.useEffect(()=>{ue.on("request",u=>{var q,G;i(!0),d(`${u.user.firstname} ${u.user.lastname}`),p((q=u==null?void 0:u.user)==null?void 0:q.profile_pic),m((G=u==null?void 0:u.hosting)==null?void 0:G.id)}),ue.on("reject-request",u=>{console.log({dddd:u}),$(!0)}),ue.on("accept-request",u=>{d(`${u.user.firstname} ${u.user.lastname}`),console.log({dBro:u}),console.log(`${u.user.firstname} ${u.user.lastname}`),M(!0),y(u.congrats_msg)});const z=de();z&&ce(z)},[]);async function x(){await he.post("/api/boarding",{id:n,targetId:v},{headers:{Authorization:`Bearer ${a}`}})}const Z=async(z,u)=>{O(U=>{const H=[...U];return H[u]=!0,H});const q=T==="Request to board",G=await he.post("/api/update_boarding_status",{action:z,id:g,myId:n,side:q},{headers:{Authorization:`Bearer ${a}`}});G.data.statusCode===200?(O(U=>{const H=[...U];return H[u]=!0,H}),i(!1)):G.data.statusCode===204&&(O(U=>{const H=[...U];return H[u]=!1,H}),i(!1))},ge=()=>o(Jt,{hoverable:!0,style:{width:"100%"},children:C(L,{style:{},children:[o(j,{children:o(_.LazyLoadImage,{src:l,style:{width:"50px",height:"50px",borderRadius:"25px"}})}),C(j,{style:{width:"80%",marginLeft:"2%"},children:[o(L,{children:C("span",{children:[o("span",{style:{color:"#EAB2BB"},children:c})," Requested to ",W," dog."]})}),C(L,{style:{width:"100%"},children:[o(ne,{style:{background:"#EAB2BB",color:"white",width:"24%",marginRight:"2%"},onClick:()=>Z(!0,0),disabled:b[1],loading:b[0],children:"Accept"}),o(ne,{style:{color:"white",background:"#000000",width:"24%"},onClick:()=>Z(!1,1),disabled:b[0],loading:b[1],children:"Reject"})]})]})]})});return o(X,{children:C(j,{lg:12,style:{display:"flex",flexDirection:"column"},xs:24,children:[C(L,{justify:"space-between",children:[o(j,{children:C("div",{style:{marginLeft:15,lineHeight:1},children:[o("h1",{children:(ee=t==null?void 0:t.user)==null?void 0:ee.displayName}),o("p",{children:(J=t==null?void 0:t.user)!=null&&J.displayName?"Online":""})]})}),o(j,{style:{marginTop:25,marginRight:50,marginLeft:50},children:o(ne,{onClick:x,children:T})})]}),o("div",{style:{height:2,backgroundColor:"lightgrey"}}),C(rn,{className:"content",children:[s&&o(ge,{}),S&&o("div",{style:{textAlign:"center",background:"#EAB2BB",padding:"40px 40px",color:"white"},children:o("p",{children:f})}),h&&o("div",{style:{textAlign:"center",background:"#EAB2BB",padding:"40px 40px"},children:o("p",{children:"Your Request was rejected"})}),o(sn,{})]}),o(L,{style:{display:"flex",gap:20},children:o(j,{children:o(nn,{})})})]})})},cn=()=>{const[e,t]=r.useState(""),[n,a]=r.useState(null),[s,i]=r.useState(!1),{currentUser:c}=r.useContext(oe),d=async()=>{console.log({username:e});const g=Xe(Ye(E,"users"),Ve("displayName","==",e));try{console.log("before");const m=await Je(g);console.log(m),m.forEach(b=>{console.log({doc:b}),a(b.data())})}catch{i(!0)}};return o(X,{children:o(L,{children:o(j,{lg:24,children:C("div",{className:"search",children:[o("div",{className:"searchForm",children:o(ye,{placeholder:"Find a user",onKeyDown:g=>{g.code==="Enter"&&d()},onChange:g=>t(g.target.value),value:e})}),s&&o("span",{children:"User not found!"}),n&&C("div",{className:"userChat",onClick:async()=>{const g=c.uid>n.uid?c.uid+n.uid:n.uid+c.uid;try{(await Be(B(E,"chats",g))).exists()||(await Ke(B(E,"chats",g),{messages:[]}),await F(B(E,"userChats",c.uid),{[g+".userInfo"]:{uid:n.uid,displayName:n.displayName,photoURL:n.photoURL},[g+".date"]:ae()}),await F(B(E,"userChats",n.uid),{[g+".userInfo"]:{uid:c.uid,displayName:c.displayName,photoURL:c.photoURL},[g+".date"]:ae()}))}catch{}a(null),t("")},style:{cursor:"pointer"},children:[o(_.LazyLoadImage,{src:n.photoURL,alt:""}),o("div",{className:"userChatInfo",children:o("span",{children:n.displayName})})]})]})})})})},un=({socket:e})=>{var M;const[t,n]=r.useState(!1),[a,s]=r.useState([]),[i,c]=Qe.useMessage(),{currentUser:d}=r.useContext(oe),{dispatch:l}=r.useContext(Q);r.useEffect(()=>{const h=()=>{const $=Re(B(E,"userChats",d.uid),f=>{s(f.data())});return()=>{$()}};d.uid&&h()},[d.uid]);const[p,g]=r.useState(""),m=h=>{g(h.uid),l({type:"CHANGE_USER",payload:h})},b=async h=>{try{await tt(B(E,"userChats",h)),s($=>{const f={...$};return delete f[h],f}),i.open({type:"success",content:"Chat deleted successfully"})}catch{i.open({type:"error",content:"Error deleting chat"})}},O=[{key:"1",label:o("p",{children:"Delete"})}];function S(h){const f=(new Date().getTime()-(h==null?void 0:h.seconds)*1e3-(h==null?void 0:h.nanoseconds)/1e6)/1e3,y=Math.floor(f/60);if(y===0)return"just now";if(y<60)return`${y} ${y===1?"minute":"minutes"} ago`;{const v=Math.floor(y/60);if(v<24)return`${v} ${v===1?"hour":"hours"} ago`;{const N=Math.floor(v/24);return`${N} ${N===1?"day":"days"} ago`}}}return C(X,{children:[c,C(L,{justify:"center",style:{minHeight:"80vh"},children:[C(j,{lg:8,xs:6,children:[o("h1",{children:"Messages"}),o(cn,{}),(M=Object.entries(a))==null?void 0:M.sort((h,$)=>$[1].date-h[1].date).map((h,$)=>{var f,y,v,N,T,R;return o(X,{children:C(L,{justify:"space-between",children:[C(j,{style:{display:"flex",flexDirection:"row",gap:10,marginTop:20},onClick:()=>m(h[1].userInfo),children:[o(Ze,{size:70,src:(y=(f=h[1])==null?void 0:f.userInfo)==null?void 0:y.photoURL}),C(j,{onClick:()=>n(!0),style:{cursor:"pointer"},children:[o("h1",{className:"name_heading",children:(N=(v=h[1])==null?void 0:v.userInfo)==null?void 0:N.displayName}),o("p",{className:"msg_para",children:(T=h[1].lastMessage)==null?void 0:T.text}),o("p",{className:"time_para",children:S((R=h[1])==null?void 0:R.date)})]})]},h[0]),o(j,{style:{display:"flex",justifyContent:"center",alignItems:"center"},children:o(et,{menu:{items:O},children:o("a",{onClick:()=>b(h[$]),children:o(_.LazyLoadImage,{src:"/assets/dropdownIcon/dropdownImg.svg"})})})})]})})})]}),o("div",{style:{width:2,backgroundColor:"#7A7777",marginLeft:20}}),t==!1?o(on,{}):o(ln,{socket:e,targetUser:p}),o("div",{style:{width:2,backgroundColor:"#7A7777"}})]})]})};export{un as default};
